<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
</head>
<body>
<div class="container"> 
<h1>I miei film preferiti</h1>

<table id="tabella" class="table table-info table-striped">
  <tr>
    <th>Titolo</th>
    <th>Voto</th>
  </tr>
  
</table>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js" integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous"></script>
<script> 

  const URL="http://localhost:8080/api/all"
  const TABELLA=document.getElementById("tabella")
  fetch(URL).then(res=>res.json()).then(res=>{
    for (const film of res) {
      console.log(film.title);
      const TR= document.createElement("tr")//creo la riga 
      const TD1= document.createElement("td")//idem sotto -creo la cella 
      const TD2= document.createElement("td")
      TD1.textContent=film.title//idem sotto- aggiungo il testo alla cella 
      TD2.textContent=film.rating
      TR.append(TD1,TD2)//aggiungo le celle alla riga
      TABELLA.append(TR)//aggiungo la riga alla tabella
    }
    }
  )


</script>
</body>
</html>